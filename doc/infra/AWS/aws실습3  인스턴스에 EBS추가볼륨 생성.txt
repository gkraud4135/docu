OS가 설치된 기본 EBS볼륨외에 추가 볼륨생성
--------------------------------------------

1.AWS콘솔의 EC2페이지에서 Elastic Block Store->볼륨을 클릭합니다

2.현재 생성된 EBS볼륨의 목록이 표시됩니다.이전에 EC2인스턴스 (sample server)를 생성 할때 만들어진 EBS볼륨을 볼 수 있습니다.

3.화면상단의 볼륨생성  단추를 클릭합니다.

볼륨유형:EBS볼륨 형태입니다 기본값 사용합니다.
크기:EBS볼륨크기입니다.10 GB 을 입력합니다.
IOPS:유형을 범용 SSD(gp2)로 설정 했기때문에 IOPS를 설정 할수 없습니다.
유형을 Provisioned IOPS를 선택해야 값을 설정 할 수 있습니다
가용영역:볼륭이 생성될 가용영역입니다.EC2인스턴스와 같은 가용영역에 위치해야만 인스턴스에서 사용 할 수 있습니다.
스냅샷 ID:만든 EBS 스냅샷이 있다면 여기서 선택가능합니다.기본값 그대로 비워둡니다
암호화:볼륨암호화 옵션입니다. 기본값을 사용합니다.

4.설정이 완료되었으면 볼륨생성 단추를 클릭합니다.
이제 EBS볼륨목록에 10GB용량의  EBS 볼륨이 생성되었습니다.

EC2인스턴스에 EBS볼륨 장착
-----------------------------

1.방금 만든 10GB EBS볼륨을 선택하고 마우스 오른쪽버튼을 클릭하여 나타나는 메뉴에서 볼륨연결을 클릭합니다.

2.EBS 볼륨을 EC2인스턴스에 연결합니다
볼륨:볼륨ID와 생성된 가용영역을 보여줍니다
인스턴스:인스턴스 입력부분을 클릭하면 현재 가용영역에 생성된 EC2인스턴스의 목록을 표시합니다 sample server 인스턴스를 선택합니다.
디바이스:EC2인스턴스를 선택하면 자동으로 설정됩니다. 기본값 사용합니다.

3.설정이 완료되었으면 연결 단추를 클릭합니다.
EBS 볼륨목록에서 상태항목을 보면 파란색아이콘의 available에서 연두색아이콘의 in-use로 변경되어 있습니다.

EC2인스턴스에서 EBS 볼륨포맷과 마운트
---------------------------------------
1.EBS를 OS에서 사용하려면 적절한 파일시스템으로 포멧을 해야합니다
실습인스턴스가 linux이므로 ext4 파일시스템으로 작업합니다
EC2 인스턴스에 연결된 EBS볼륨의 장치명을 확인합니다
EBS볼륨을 선택하고 아래 세부내역에서 연결정보를 확인하면 장치명이 표시되어 있습니다. /dev/sdf

2.SSH로 EC2 인스턴스에 접속후 "sudo mkfs -t ext4 /dev/sdf"입력하여 EBS볼륨을 포맷합니다.(명령을 복사해두었다면 ec2-user 로 로긴후 오른쪽 마우스 단추클릭하여 붙여넣기 수행)  
포맷이 완료되면 마운트하여 바로 사용 가능합니다.

3."ls /dev/sdf -al" 명령으로 /dev/sdf 장치가 있는지 확인합니다.
심볼릭 링크가 표시되면 "sudo mount /dev/sdf /mnt" 를 입력하여 저장장치를 마운트합니다.

4."df -h" 명령을 이용하여 마운트된 저장장치의 목록을 확인해보면 9.8G 용량의 /dev/sdf 장치가 /mnt에 마운트 되어 있습니다.


EC2인스턴스에서 EBS 볼륨제거
------------------------------

1."sudo umount /mnt" 명령을 이용하여 장치를 해제합니다.

2."df -f"로 확인하면 /mnt 디랙터리가 사라졌습니다.

3.EBS 볼륨목록에서 10GB짜리 EBS 볼륨을 선택하고 마우스오른쪽 클릭하여 볼륨분리 메뉴를 클릭합니다."예,분리"단추를 클릭합니다.

4.EBS 볼륨목록에서 상태항목을 보면 연두색아이콘의 in-use가 파란색아이콘의 available로 변경되어 있습니다
더  이상 이볼륨을 사용할 일이 없다면 팝업메뉴에서 볼륨삭제를 수행할 수 있습니다.


 




